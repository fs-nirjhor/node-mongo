<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    />
    <title>Node Mongo Practice</title>
  </head>
  <body>
    <h3 class="text-center my-5" >Get: <span id="getUsername"></span></h3>
    <div class="px-3 mx-3 text-center border border-3 rounded">
    	<h3 class="text-center my-5" >Added: <span id="postUsername"></span></h3>
      <input
        type="text"
        name="postUserBox"
        id="postUserBox"
        class="form-control"
        placeholder="Username"
      />
      <button class="btn btn-primary my-2" id="postUserBtn">Add</button>
    </div>
    <script type="text/javascript" charset="utf-8">
    
      	  // get user
      		fetch(`http://localhost:3000/users/2`)
      		.then(res => res.json())
      		.then(data => {
      			document.getElementById('getUsername').innerText = data.user ;
      		})
      		
      		// post user 
      		document.getElementById('postUserBtn').addEventListener("click", () => {
      		const name = document.getElementById('postUserBox').value ;
      		const user = {name};
      		fetch('http://localhost:3000/addUser', {
        method: 'POST',
        body: JSON.stringify(user),
        headers: {
          'Content-type': 'application/json; charset=UTF-8',
        },
      })
        .then((response) => response.json())
        .then((data) => document.getElementById('postUsername').innerText = data.name )
      	.catch(error => console.log(error.message));
      		} );
    </script>
  </body>
</html>
